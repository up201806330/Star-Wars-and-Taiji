<lsf>
    <initials>
        <reference length="2" />
        <!-- axis length; "0" means no axis displayed -->
        <root id="demoRoot" />
        <!-- identifier of root node of the scene graph; this node -->
        <!-- must be defined in one of the following NODE declarations -->
    </initials>
    <views default="defaultCamera">
        <!-- at least one of the following type of cameras must be declared -->
        <perspective id="defaultCamera" near="0.1" far="500" angle="45">
            <from x="30" y="15" z="30" />
            <to x="0" y="-2" z="0" />
        </perspective>
        <ortho id="demoOrtho" near="0.2" far="100" left="-0.2" right="0.2" top="0.2" bottom="-0.2">
            <from x="5" y="0" z="10" />
            <to x="5" y="0" z="0" />
            <up x="0" y="1" z="0" /><!-- optional, default 0,1,0 -->
        </ortho>
    </views>

    <illumination>
        <ambient r="0.2" g="0.2" b="0.2" a="1.0" />           <!-- global ambient -->
        <background r="0.1" g="0.7" b="1.0" a="1.0" />        <!-- background color -->
    </illumination>


    <lights>
        <!-- NOTE: this block "light" must be repeated as necessary with different "id". At least one light should be present, and a maximum of eight lights is accepted. -->
        <light id="demoLight">            <!-- light identifier -->
            <enable value="1" />
            <!-- enable/disable -->
            <position x="10" y="12" z="9.5" w="1.0" /><!-- light position; w=1: point light; w=0: directional light -->
            <ambient r="0" g="0" b="0" a="1.0" />                   <!-- ambient component -->
            <diffuse r="1.0" g="1.0" b="1.0" a="1.0" />             <!-- diffuse component -->
            <specular r="1.0" g="1.0" b="1.0" a="1.0" />            <!-- specular component -->
        </light>
    </lights>


    <textures>
        <!-- NOTE: this block "TEXTURE" must be repeated as necessary with different "id" -->
        <texture id="demoTexture" path="./scenes/images/vidral.jpg" />
    </textures>


    <materials>
        <!-- NOTE: the "MATERIAL" block may be repeated as required. Each defined material
         requires a distinct "id". At least one material should be present. -->
        <material id="demoMaterial">
            <shininess value="ff" />
            <ambient r="1.0" g="0.0" b="0.0" a="1.0" />
            <diffuse r="0.6" g="0.0" b="0.0" a="1.0" />
            <specular r="0.6" g="0.0" b="0.0" a="1.0" />
            <emissive r="0.0" g="0.0" b="0.0" a="1.0" />
        </material>
    </materials>

    <nodes>
        <node id="demoRoot">            <!-- defines one intermediate node; may be repeated as necessary -->
            <!-- next two lines are mandatory -->
            <material id="demoMaterial" /><!-- this superimposes the material received from parent node id="null" maintains material from parent node -->

            <texture id="demoTexture"><!-- declared texture superimposes the texture received from parent node id="null" maintains texture from parent node id="clear" clears texture declaration received from parent node -->
                <amplification afs="2.0" aft="2.0" /><!-- for primitives = dx/afs, dy/aft -->
            </texture>

            <!-- geom. transf. are optional and may be repeated, in any order, as necessary: -->
            <transformations>
                <translation x="0" y="1.0" z="1.0" />
                <rotation axis="yy" angle="45" />
                <scale sx="2" sy="1" sz="1" />
            </transformations>

            <!-- declaring descendants, at least one node or one leaf must be present
             descendants may be mixed, nodes and leafs -->
            <descendants>
                <noderef id="demoChild" />
                <!-- "ss" is the identifier of a node or of leaf; -->
                <!-- may be repeated as necessary. It can refer an -->
                <!-- identifier of another node, before or later defined in the file. -->
                <!-- next lines define nodes of type leaf; may be repeated, in any order, as necessary -->
                <leaf type="rectangle" x1="0" y1="1" x2="1" y2="0" />
                <!-- 2D coordinates on the XY plane for left-top and right-bottom vertices. -->
            </descendants>
        </node>
        <node id="demoChild">            <!-- defines one intermediate node; may be repeated as necessary -->
            <!-- next two lines are mandatory -->
            <material id="null" /><!-- this superimposes the material received from parent node id="null" maintains material from parent node -->

            <texture id="clear"><!-- declared texture superimposes the texture received from parent node id="null" maintains texture from parent node id="clear" clears texture declaration received from parent node -->
                <amplification afs="2.0" aft="2.0" /><!-- for primitives = dx/afs, dy/aft -->
            </texture>

            <!-- geom. transf. are optional and may be repeated, in any order, as necessary: -->
            <transformations>
                <translation x="2" y="0.0" z="2.0" />
            </transformations>

            <!-- declaring descendants, at least one node or one leaf must be present
             descendants may be mixed, nodes and leafs -->
            <descendants>
                <leaf type="triangle" x1="ff" y1="ff" x2="ff" y2="ff" x3="ff" y3="ff" z3="ff"/>
                <!-- x y z coordinates of each vertex -->
            </descendants>
        </node>


        <!-- Division of the x-wing in parts (to "illustrate") - temporary
            xWing
                main body
                wings
            
            wings
                left  -> top, bottom
                right -> top, bottom
            
            main body
                front edge
                front body
                cabine
                back body
            
            top left wing
                top left wing engine
                top left wing itself
                wing gun
            

            bottom left wing
                bottom left wing engine
                bottom left wing itself
                wing gun
            
            top right wing
                top right wing engine
                top right wing itself
                wing gun
            
            bottom right wing
                bottom right wing engine
                bottom right wing itself
                wing gun
            
            front edge
                prisma triangular ("rampa")
                paralelepipedo (por baixo do prisma)
            
            front body
                paralelepípedo
            
            cabine
                triangulo lateral 1
                triangulo lateral 2
                retangulo frontal
            
            back body
                paralelepípedo
                back left motor
                back right motor
                            
             (...)
        -->

        <!--
            TODO fill the materials / textures sections and add add transformations
            TODO rest of the x-wing nodes
            -> better 1 base wing or 2 base wings (different orientations) ?
            -> Wing is a triangle or a triangular prism ?
        -->


        <!-- X-Wing Cabine section -->
        <node id="xWingCabineSlopeRectangle">
            <material id="xWingCabineSlopeRectangleMaterial">
            <texture id="xWingCabineSlopeRectangleTexture">
                <amplification afs="" aft="" />
            </texture>

            <descendants>
                <noderef id="xWingRectangleDefault">
            </descendants>
        </node>

        <node id="xWingCabineRightTriangle">
            <material id="xWingCabineLeftTriangleMaterial">
            <texture id="xWingCabineLeftTriangleTexture">
                <amplification afs="" aft="" />
            </texture>

            <descendants>
                <noderef id="xWingTriangleDefault">
            </descendants>
        </node>

        <node id="xWingCabineLeftTriangle">
            <material id="xWingCabineLeftTriangleMaterial">
            <texture id="xWingCabineLeftTriangleTexture">
                <amplification afs="" aft="" />
            </texture>

            <descendants>
                <noderef id="xWingTriangleDefault">
            </descendants>
        </node>

        <!-- Front Body section -->
        <node id="xWingFrontBodyParallelepiped">
            <material id="xWingFrontBodyParallelepipedMaterial">
            <texture id="xWingFrontBodyParallelepipedTexture">
                <amplification afs="" aft="" />
            </texture>

            <descendants>
                <noderef id="xWingParallelepipedDefault">
            </descendants>
        </node>

        <!-- Front Edge of the X-Wing section -->
        <node id="xWingFrontEdgeParallelepiped">
            <material id="xWingFrontEdgeRampPrismMaterial">
            <texture id="xWingFrontEdgeRampPrismTexture">
                <amplification afs="" aft="" />
            </texture>

            <descendants>
                <noderef id="xWingParallelepipedDefault">
            </descendants>
        </node>

        <node id="xWingFrontEdgeRampPrism">
            <material id="xWingFrontEdgeRampPrismMaterial">
            <texture id="xWingFrontEdgeRampPrismTexture">
                <amplification afs="" aft="" />
            </texture>

            <descendants>
                <!-- TODO how to make a triangular prism -->
            </descendants>
        </node>

        <!-- Bottom Right Wing section -->
        <node id="xWingBottomRightWingGun">
            <material id="xWingBottomRightWingGunMaterial">
            <texture id="xWingBottomRightWingGunTexture">
                <amplification afs="" aft="" />
            </texture>

            <descendants>
                <noderef id="xWingWingGunDefault">
            </descendants>
        </node>

        <node id="xWingBottomRightWingWing">
            <material id="xWingBottomRightWingWingMaterial">
            <texture id="xWingBottomRightWingWingTexture">
                <amplification afs="" aft="" />
            </texture>

            <descendants>
                <noderef id="xWingRightWingDefault">
            </descendants>
        </node>

        <node id="xWingBottomRightWingEngine">
            <material id="xWingBottomRightWingEngineMaterial">
            <texture id="xWingBottomRightWingEngineTexture">
                <amplification afs="" aft="" />
            </texture>

            <descendants>
                <noderef id="xWingWingMotorDefault">
            </descendants>
        </node>

        <!-- Top Right Wing section -->
        <node id="xWingTopRightWingGun">
            <material id="xWingTopRightWingGunMaterial">
            <texture id="xWingTopRightWingGunTexture">
                <amplification afs="" aft="" />
            </texture>

            <descendants>
                <noderef id="xWingWingGunDefault">
            </descendants>
        </node>

        <node id="xWingTopRightWingWing">
            <material id="xWingTopRightWingWingMaterial">
            <texture id="xWingTopRightWingWingTexture">
                <amplification afs="" aft="" />
            </texture>

            <descendants>
                <noderef id="xWingRightWingDefault">
            </descendants>
        </node>

        <node id="xWingTopRightWingEngine">
            <material id="xWingTopRightWingEngineMaterial">
            <texture id="xWingTopRightWingEngineTexture">
                <amplification afs="" aft="" />
            </texture>

            <descendants>
                <noderef id="xWingWingMotorDefault">
            </descendants>
        </node>

        <!-- Bottom Left Wing section -->
        <node id="xWingBottomLeftWingGun">
            <material id="xWingBottomLeftWingGunMaterial">
            <texture id="xWingBottomLeftWingGunTexture">
                <amplification afs="" aft="" />
            </texture>

            <descendants>
                <noderef id="xWingWingGunDefault">
            </descendants>
        </node>

        <node id="xWingBottomLeftWingWing">
            <material id="xWingBottomLeftWingWingMaterial">
            <texture id="xWingBottomLeftWingWingTexture">
                <amplification afs="" aft="" />
            </texture>

            <descendants>
                <noderef id="xWingLeftWingDefault">
            </descendants>
        </node>

        <node id="xWingBottomLeftWingEngine">
            <material id="xWingBottomLeftWingEngineMaterial">
            <texture id="xWingBottomLeftWingEngineTexture">
                <amplification afs="" aft="" />
            </texture>

            <descendants>
                <noderef id="xWingWingMotorDefault">
            </descendants>
        </node>

        <!-- Top Left Wing section -->
        <node id="xWingTopLeftWingGun">
            <material id="xWingTopLeftWingGunMaterial">
            <texture id="xWingTopLeftWingGunTexture">
                <amplification afs="" aft="" />
            </texture>

            <descendants>
                <noderef id="xWingWingGunDefault">
            </descendants>
        </node>

        <node id="xWingTopLeftWingWing">
            <material id="xWingTopLeftWingWingMaterial">
            <texture id="xWingTopLeftWingWingTexture">
                <amplification afs="" aft="" />
            </texture>

            <descendants>
                <noderef id="xWingLeftWingDefault">
            </descendants>
        </node>

        <node id="xWingTopLeftWingEngine">
            <material id="xWingTopLeftWingEngineMaterial">
            <texture id="xWingTopLeftWingEngineTexture">
                <amplification afs="" aft="" />
            </texture>

            <descendants>
                <noderef id="xWingWingMotorDefault">
            </descendants>
        </node>

        <!-- Back Body of the X-Wing -->
        <node id="xWingBackBody">
            <material id="xWingBackBody">
            <texture id="xWingBackBody">
                <amplification afs="" aft="" />
            </texture>

            <descendants>
                <noderef id="xWingBackBodyParallelepiped">
                <noderef id="xWingBackBodyLeftMotor">
                <noderef id="xWingBackBodyRightMotor">
            </descendants>
        </node>

        <!-- X-Wing Cabine (sits on top of the Front Body) -->
        <node id="xWingCabine">
            <material id="xWingCabine">
            <texture id="xWingCabine">
                <amplification afs="" aft="" />
            </texture>

            <descendants>
                <noderef id="xWingCabineLeftTriangle">
                <noderef id="xWingCabineRightTriangle">
                <noderef id="xWingCabineSlopeRectangle">
            </descendants>
        </node>

        <!-- Front Body (Body between Front Edge and Back Body) -->
        <node id="xWingFrontBody">
            <material id="xWingFrontBody">
            <texture id="xWingFrontBody">
                <amplification afs="" aft="" />
            </texture>

            <descendants>
                <noderef id="xWingFrontBodyParallelepiped">
            </descendants>
        </node>

        <!-- Front Edge of the X-Wing -->
        <node id="xWingFrontEdge">
            <material id="xWingFrontEdge">
            <texture id="xWingFrontEdge">
                <amplification afs="" aft="" />
            </texture>

            <descendants>
                <noderef id="xWingFrontEdgeRampPrism">
                <noderef id="xWingFrontEdgeParallelepiped">
            </descendants>
        </node>

        <!-- Bottom Right Wing -->
        <node id="xWingBottomRightWing">
            <material id="xWingBottomRightWingMaterial">
            <texture id="xWingBottomRightWingTexture">
                <amplification afs="" aft="" />
            </texture>

            <descendants>
                <noderef id="xWingBottomRightWingEngine">
                <noderef id="xWingBottomRightWingWing">
                <noderef id="xWingBottomRightWingGun">
            </descendants>
        </node>

        <!-- Top Right Wing -->
        <node id="xWingTopRightWing">
            <material id="xWingTopRightWingMaterial">
            <texture id="xWingTopRightWingTexture">
                <amplification afs="" aft="" />
            </texture>

            <descendants>
                <noderef id="xWingTopRightWingEngine">
                <noderef id="xWingTopRightWingWing">
                <noderef id="xWingTopRightWingGun">
            </descendants>
        </node>

        <!-- Bottom Left Wing -->
        <node id="xWingBottomLeftWing">
            <material id="xWingBottomLeftWingMaterial">
            <texture id="xWingBottomLeftWingTexture">
                <amplification afs="" aft="" />
            </texture>

            <descendants>
                <noderef id="xWingBottomLeftWingEngine">
                <noderef id="xWingBottomLeftWingWing">
                <noderef id="xWingBottomLeftWingGun">
            </descendants>
        </node>

        <!-- Top Left Wing -->
        <node id="xWingTopLeftWing">
            <material id="xWingTopLeftWingMaterial">
            <texture id="xWingTopLeftWingTexture">
                <amplification afs="" aft="" />
            </texture>

            <descendants>
                <noderef id="xWingTopLeftWingEngine">
                <noderef id="xWingTopLeftWingWing">
                <noderef id="xWingTopLeftWingGun">
            </descendants>
        </node>

        <!-- Main Body -->
        <node id="xWingMainBody">
            <material id="xWingBodyMaterial">
            <texture id="xWingBodyTexture">
                <amplification afs="" aft="" />
            </texture>

            <descendants>
                <noderef id="xWingFrontEdge">
                <noderef id="xWingFrontBody">
                <noderef id="xWingCabine">
                <noderef id="xWingBackBody">
            </descendants>
        </node>

        <!-- All Wings -->
        <node id="xWingWings">
            <material id="xWingWingsMaterial">
            <texture id="xWingWingsTexture">
                <amplification afs="" aft="" />
            </texture>

            <descendants>
                <noderef id="xWingTopLeftWing">
                <noderef id="xWingBottomLeftWing">
                <noderef id="xWingTopRightWing">
                <noderef id="xWingBottomRightWing">
            </descendants>
        </node>

        <!-- Complete X-Wing Starship -->
        <node id="xWingFull">

            <material id="xWingFullMaterial">
            <texture id="xWingFullTexture">
                <amplification afs="" aft="" />
            </texture>

            <descendants>
                <noderef id="xWingMainBody">
                <noderef id="xWingWings">
            </descendants>            
        </node>


        <!--            -->
        <!-- Tie Figher -->
        <!--            -->


        <!-- Division of the fighter in parts (to "illustrate") - temporary
            tieFighter
                main body
                wings
            
            wings
                left  -> top half, bottom half, support
                right -> top half, bottom half, support
            
            main body
                sphere
                windows
                thruster (?)
                2 cilinders (guns)
            
            wing support
                top triangle
                bot triangle
                cilider

            half wing panel X2
                up center rect triangles
                left, right isoscls triangles

            (Panels need border!!)

            cabin 
                triangles (?)

             (...)
        -->

        <!-- Tie base rectangle FOR WING SUPPORTS-->
        <node id="tieBaseRectangle">
            <material id="null">
            <texture id="null">
                <amplification afs="" aft="" />
            </texture>
            <transformations>
            </transformations>

            <descendants>
                <leaf type="rectangle" x1="0" y1="0" x2="1" y2="0.1" />
            </descendants>
        </node>

        <!-- Support beam -->
        <!-- Tie support 1st side-->
        <node id="tieSupp1">
            <material id="null">
            <texture id="null">
                <amplification afs="" aft="" />
            </texture>
            <transformations>
                <translation x="0" y="0" z="-0.05" />
            </transformations>

            <descendants>
                <noderef id="tieBaseRectangle">
            </descendants>
        </node>
        <!-- Tie support 2nd side-->
        <node id="tieSupp2">
            <material id="null">
            <texture id="null">
                <amplification afs="" aft="" />
            </texture>
            <transformations>
                <translation x="0" y="0" z="0.05" />
            </transformations>

            <descendants>
                <noderef id="tieBaseRectangle">
            </descendants>
        </node>
        <!-- Tie support 3rd side-->
        <node id="tieSupp3">
            <material id="null">
            <texture id="null">
                <amplification afs="" aft="" />
            </texture>
            <transformations>
                <translation x="0" y="0.1" z="-0.05" />
                <rotation axis="xx" angle="90(?)" />
            </transformations>

            <descendants>
                <noderef id="tieBaseRectangle">
            </descendants>
        </node>
        <!-- Tie support 4th side-->
        <node id="tieSupp4">
            <material id="null">
            <texture id="null">
                <amplification afs="" aft="" />
            </texture>
            <transformations>
                <translation x="0" y="-0.1" z="-0.05" />
                <rotation axis="xx" angle="90(?)" />
            </transformations>

            <descendants>
                <noderef id="tieBaseRectangle">
            </descendants>
        </node>

        <!-- Tie support beam -->
        <node id="tieSupportBeam">
            <material id="null">
            <texture id="null">
                <amplification afs="" aft="" />
            </texture>
            <transformations>
            </transformations>

            <descendants>
                <noderef id="tieSupp1">
                <noderef id="tieSupp2">
                <noderef id="tieSupp3">
                <noderef id="tieSupp4">
            </descendants>
        </node>

        <!-- Borders -->
        <node id="tueBorder1">
            <material id="null">
            <texture id="null">
                <amplification afs="" aft="" />
            </texture>
            <transformations>
                <scale x="2" y="1" z="1" />
            </transformations>

            <descendants>
                <noderef id="tieSupportBeam">
            </descendants>
        </node>
        <node id="tueBorder2">
            <material id="null">
            <texture id="null">
                <amplification afs="" aft="" />
            </texture>
            <transformations>
                <translation x="-2" y="0" z="0" />
                <scale x="2" y="1" z="1" />
            </transformations>

            <descendants>
                <noderef id="tieSupportBeam">
            </descendants>
        </node>
        <node id="tueBorder3">
            <material id="null">
            <texture id="null">
                <amplification afs="" aft="" />
            </texture>
            <transformations>
                <translation x="-1" y="2" z="0" />
                <scale x="2" y="1" z="1" />
            </transformations>

            <descendants>
                <noderef id="tieSupportBeam">
            </descendants>
        </node>
        <node id="tueBorder4">
            <material id="null">
            <texture id="null">
                <amplification afs="" aft="" />
            </texture>
            <transformations>
                <rotation axis="zz" angle="53" />
                <scale x="2.24" y="1" z="1" /> <!--sqrt(5) -->
            </transformations>

            <descendants>
                <noderef id="tieSupportBeam">
            </descendants>
        </node>
        <node id="tueBorder5">
            <material id="null">
            <texture id="null">
                <amplification afs="" aft="" />
            </texture>
            <transformations>
                <translation x="-2" y="0" z="0" />
                <rotation axis="zz" angle="53" />
                <scale x="2.24" y="1" z="1" /> <!--sqrt(5) -->
            </transformations>

            <descendants>
                <noderef id="tieSupportBeam">
            </descendants>
        </node>
        <node id="tueBorder6">
            <material id="null">
            <texture id="null">
                <amplification afs="" aft="" />
            </texture>
            <transformations>
                <rotation axis="zz" angle="53 + 90 (?)" />
                <scale x="2.24" y="1" z="1" /> <!--sqrt(5) -->
            </transformations>

            <descendants>
                <noderef id="tieSupportBeam">
            </descendants>
        </node>
        <node id="tueBorder7">
            <material id="null">
            <texture id="null">
                <amplification afs="" aft="" />
            </texture>
            <transformations>
                <translation x="2" y="0" z="0" />
                <rotation axis="zz" angle="53 + 90 (?)" />
                <scale x="2.24" y="1" z="1" /> <!--sqrt(5) -->
            </transformations>

            <descendants>
                <noderef id="tieSupportBeam">
            </descendants>
        </node>

        <!-- Tie half wing panel-->
        <node id="tieHalfWing">
            <material id="tieWingMaterial">
            <texture id="tieWingTexture">
                <amplification afs="" aft="" />
            </texture>
            <transformations>
            </transformations>

            <descendants>
                <leaf type="triangle" x1="0" y1="0" x2="1" y2="2" x3="-1" y3="2" z3="0"/>
                <leaf type="triangle" x1="0" y1="0" x2="2" y2="0" x3="1" y3="2" z3="0"/>
                <leaf type="triangle" x1="0" y1="0" x2="-2" y2="0" x3="-1" y3="2" z3="0"/>
                <!-- borders (?)-->
            </descendants>
        </node>

        <!-- Tie wing support-->
        <node id="tieWingSupport">
            <material id="tieGreyMaterial">
            <texture id="tieGreyTexture">
                <amplification afs="" aft="" />
            </texture>
            <transformations>
            </transformations>

            <descendants>
                <leaf type="cylinder" height="3" topRadius="0.2" bottomRadius="0.2" stacks="?" slices="?" />
                <leaf type="triangle" x1="0" y1="1" x2="0" y2="0" x3="1.5" y3="0" z3="0"/>
                <leaf type="triangle" x1="0" y1="-1" x2="0" y2="0" x3="1.5" y3="0" z3="0"/>
            </descendants>
        </node>

        <!-- Tie body windows-->
        <node id="tieWingBodyWindows">
            <material id="tieWindowsMaterial">
            <texture id="tieWindowsTexture">
                <amplification afs="" aft="" />
            </texture>
            <transformations>
                <translation x="0.2" y="0" z="0" />
                <scale x="0.75" y="0.75" z="0.75" />
            </transformations>

            <descendants>
                <leaf type="sphere" radius="1" stacks="?" slices="?" />
            </descendants>
        </node>

        <!-- Tie body-->
        <node id="tieWingBody">
            <material id="tieGreyMaterial">
            <texture id="tieGreyTexture">
                <amplification afs="" aft="" />
            </texture>
            <transformations>
            </transformations>

            <descendants>
                <leaf type="sphere" radius="1" stacks="?" slices="?" />
                <noderef id="tieWingBodyWindows">
            </descendants>
        </node>

    </nodes>
</lsf>
